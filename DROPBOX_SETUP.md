# Настройка Dropbox API

Это руководство поможет вам настроить интеграцию с Dropbox для сохранения файлов в облаке.

## Шаг 1: Создание приложения в Dropbox

1. Перейдите на [Dropbox App Console](https://www.dropbox.com/developers/apps/create)
2. Войдите в свой аккаунт Dropbox
3. Выберите тип API: **Scoped Access**
4. Выберите тип доступа: **App folder**
5. Придумайте имя для приложения (например, `LuckySheetApp`)
6. Нажмите **Create app**

## Шаг 2: Настройка приложения

1. Перейдите на вкладку **Settings**
2. Найдите поле **Redirect URIs** и добавьте `http://localhost:3004/`
3. Нажмите **Add**

## Шаг 3: Настройка прав доступа

1. Перейдите на вкладку **Permissions**
2. Включите следующие права:
   - `files.metadata.read`
   - `files.metadata.write`
   - `files.content.read`
   - `files.content.write`
   - `account_info.read`
3. Нажмите **Submit**

## Шаг 4: Получение App Key (Client ID)

1. Перейдите на вкладку **Settings**
2. Скопируйте **App key** - это ваш `Client ID`

## Шаг 5: Настройка в коде

1. Откройте файл `src/utils/dropboxStorage.js`
2. Найдите строку:
   ```javascript
   this.clientId = 'YOUR_DROPBOX_CLIENT_ID';
   ```
3. Замените `YOUR_DROPBOX_CLIENT_ID` на ваш реальный **App key**:
   ```javascript
   this.clientId = 'ваш_app_key_здесь';
   ```

## Шаг 6: Проверка работы

1. Запустите приложение: `npm run dev`
2. Откройте настройки (шестеренка в левом меню)
3. Нажмите "Войти через Dropbox"
4. Разрешите доступ приложению
5. Проверьте, что файлы сохраняются в папке `Apps/LuckySheetApp` на вашем Dropbox

## Возможные проблемы

### Ошибка "Invalid redirect_uri"
- Убедитесь, что `http://localhost:3004/` добавлен в **Redirect URIs**
- Проверьте, что порт в URL правильный (3004)

### Ошибка доступа
- Убедитесь, что все необходимые права включены на вкладке **Permissions**
- Проверьте, что вы нажали **Submit** после изменения прав

### Файлы не появляются
- Файлы сохраняются в специальную папку приложения `Apps/ИмяВашегоПриложения`
- Проверьте эту папку в вашем Dropbox

## Безопасность

- App key (Client ID) не является секретным ключом
- Токены доступа сохраняются в localStorage браузера
- Приложение имеет доступ только к своей папке `App folder`
- Вы можете отозвать доступ в настройках Dropbox

## Поддержка

Если у вас возникли проблемы:
1. Проверьте консоль браузера на наличие ошибок
2. Убедитесь, что все настройки выполнены правильно
3. Попробуйте очистить данные браузера и войти заново 